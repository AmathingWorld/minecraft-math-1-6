<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft 除法練習場 (RPG版)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="block-element">
        <h1><span style="color:#808080;">⛏️ Minecraft 除法練習場 🧱</span></h1>
        <div id="user-profile">
            <span id="player-name">未選擇</span>
            <div id="player-avatar" class="block-element">
                ?
            </div>
        </div>
    </header>
    
    <div id="stats-box" class="block-element">
        <div class="stat-item">經驗值: <span id="current-exp">0</span></div>
        <div class="stat-item">✨ 鑽石: <span id="diamond-count">0</span></div>
        <div class="stat-item">🧱 紅石: <span id="redstone-count">0</span></div>
        <div class="stat-item">⭐ 等級: <span id="current-level">1</span></div>
    </div>
    
    <main id="game-container">
        <section id="selection-screen">
            <h2 class="block-element">選擇你的方塊夥伴</h2>
            <div id="character-selection" class="selection-grid">
                <button class="block-button char-btn" data-char="史帝夫" data-abbr="S" data-img="🧔‍♂️">史帝夫</button>
                <button class="block-button char-btn" data-char="艾力克斯" data-abbr="A" data-img="👩‍🦰">艾力克斯</button>
                <button class="block-button char-btn" data-char="苦力怕" data-abbr="C" data-img="👽">苦力怕</button>
                <button class="block-button char-btn" data-char="骷髏" data-abbr="K" data-img="💀">骷髏</button>
                <button class="block-button char-btn" data-char="貓咪" data-abbr="M" data-img="🐱">貓咪</button>
            </div>

            <h2 class="block-element">選擇練習傳送門 (主題)</h2>
            <div id="topic-selection" class="selection-grid">
                <button class="block-button topic-btn" data-topic-id="basic">紅石基礎電路 (個位數商)</button>
                <button class="block-button topic-btn" data-topic-id="advanced">末地傳送門 (兩位數商)</button>
            </div>
            
            <button id="start-game-btn" class="block-button start-button" disabled>啟動傳送門 (請先選擇)</button>

            <button id="view-history-btn" class="block-button" style="margin-top: 15px; background-color: #6C757D;" disabled>📜 查看角色紀錄</button>
            
            <div id="history-area" class="block-element hidden">
                <h3><span id="history-char-name"></span> 冒險歷史</h3>
                <div id="history-table-container">
                    <table id="history-table">
                        <thead>
                            <tr><th>日期</th><th>主題</th><th>正確題數</th><th>總耗時</th><th>操作</th></tr>
                        </thead>
                        <tbody id="history-table-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="practice-screen" class="hidden">
            <div id="timer-box" class="block-element">
                總計時: <span id="total-time">0:00</span> | 
                本題計時: <span id="question-time">0:00</span>
                <p>進度: <span id="current-question">0</span>/10</p>
            </div>

            <div id="question-area" class="block-element">
                <p id="division-question">載入中...</p>
            </div>

            <div id="choices-area">
            </div>
            
            <p id="feedback-message" class="feedback">準備好了嗎？</p>
        </section>

        <section id="results-screen" class="hidden">
            <h2 class="block-element">🏆 冒險日誌 (戰利品清單) 🏆</h2>
            <p><strong>角色:</strong> <span id="result-char"></span></p>
            <p><strong>主題:</strong> <span id="result-topic"></span></p>
            <p><strong>總完成時間:</strong> <span id="result-total-time"></span></p>
            <p id="result-message" class="feedback"></p>

            <h3>本次紀錄</h3>
            <table>
                <thead>
                    <tr><th>題號</th><th>算式</th><th>答案</th><th>耗時</th></tr>
                </thead>
                <tbody id="results-table-body"></tbody>
            </table>

            <button id="restart-btn" class="block-button start-button">返回選擇頁面</button>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>